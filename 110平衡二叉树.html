<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<script type="text/javascript">
			//多次计算了子树的高度，会拿不到offer？
			var isBalanced = function(root) {
			    function helper(node){
			        if(!node) return 0
			        // let dleft = 1;
			        // let dright = 1;
			        // if(node.left){
			        //     dleft =  helper(node.left) + 1
			        // }
			        // if(node.right){
			        //     dright = helper(node.right) + 1
			        // }
			        // return dleft > dright ? dleft : dright
					return Math.max(helper(node.left),helper(node.right)) + 1
			    }
			    if(!root) return true
			    return Math.abs(helper(root.left) - helper(root.right)) > 1 ? false : isBalanced(root.left)&&isBalanced(root.right)
			};
			var isBalanced = function(root) {
			    function helper(node){
			        if(!node) return 0
			        let dleft = helper(node.left) 
			        let dright = helper(node.right)
					if(Math.abs(dleft - dright) > 1 || dleft === -1 || dright === -1){
						return -1
					}else{
						return Math.max(dleft,dright) + 1
					}
			    }
			    if(!root) return true
			    return helper(root) >= 0
			};
		</script>
	</body>
</html>
